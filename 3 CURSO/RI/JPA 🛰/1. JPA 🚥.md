# 13 Octubre 2022 🏖
---
- Ahora vamos a utilizar el modelo de dominio, que hace que el esfuerzo de implementación sea mucho más estable
- **Mapeadores Objeto-Relacional**
	- Permite la persistencia y es transparente a objetos en BBDD relacionales
	- Mínima intrusividad en el código
	- Soporta concurrencia
	- Se programa pensando en objetos
	- No es necesario escribir JDBC

Diferencias estructurales y dinámicas entre modelo relacional y modelo OO:
- **Estructurales**
	- **Granularidad**: hay varios tipos de clases (entidades y value types)
	- **Identidad**: en java el == o el equals o el hashCode, en BDD relacional la clave primaria define la identidad
	- **Subtipado**
	- **Asociaciones**: *navegabilidad* (unidireccional o bidireccional) y *cardinalidad* (uno a uno, uno a muchos, muchos a muchos)
- **Dinámicas**: generan pérdidas de eficiencia en tiempo de ejecución
	- **Navegación**: *eager loading* (se carga un objeto y sus asociados, puede sobrecargar la memoria con objetos no necesarios) y *lazy loading* (se carga sólo lo necesario, pero genera el problema de las n+1 consultas)
	- **Cacheado**: optimiza el rendimiento al reducir el trasiedo de la BBDD y permite hacer optimizaciones (write-behind delayed o batch load/update)
	- **Concurrencia**: si hay varios hilos de ejecución se crea una caché por hilo y la BDD gestiona las transacciones

---